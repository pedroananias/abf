#####################################################################################################################################
# ### ABF - Anomalous Behaviour Forecast
# ### Script responsible for executing the anomalous behaviour forecast using machine learning and deep learning
# ### Python 3.7 64Bits is required!
#####################################################################################################################################

### Change History
Version 1: 
- Repository creation

Version 2: 
- Accuracy metrics insertion and spreadsheet creation with final results

Version 3: 
- Created spare function to assess training parameters

Version 4: 
- Changed the metrics to evaluate the training process

Version 5: 
- pre-training and results plots fixes

Version 6: 
- model parameters fixes

Version 7: 
- fix in the evaluation process

Version 8: 
- trying to fix de accuracy problem in training process

Version 9: 
- few algorithm fixes

Version 10: 
- algorithm modified to use regression instead of classification (it will predict ndvi, fai and slope)

- Version 11: 
- Multilayer Perceptron and LSTM fixes

Version 12: 
- LSTM to encoding and decoding version, Random Forest and SVM RandomizedSearchCV version, removed mlp_relu and grid fixes
- New MLP and LSTM parametrization
- Module GEE and Misc updateds

Version 13: 
- Added new indices: SABI and NDWI
- Added RandomizedSearchCV to MLP

Version 14: 
- Added parameter 'normalized': when activated, it will normalized indices values to range -1 and 1 (ndwi, ndvi and sabi)
- Added 'class_mode' (regression modelling process) and 'class_weight' (it will assign weights to classes before the training process) parameters
- Added parameter 'propagate': when activated, it will propagate predictions from one day to another in prediction date range
- Added parameter 'rs_train_size', 'rs_iter': it allows increase the randomized search training size and iterations
- Added parameter 'pca_size'

Version 15: 
- Changed accuracy calculation process (removed indetermined bloom pixels)

Version 16:
- Changed some default parameters based on previous tests

Version 17:
- Added parameters for new tests and modification of the LSTM modelling process
- Changed training labels selection, using only edges values (0 and total indexes)

Version 18:
- Fixes in the modelling process and label selection
- Added ROI validation from Google Earth Engine Console

Version 19:
- Fix SVM slow modelling process

Version 20:
- Fix error when using attributes disable_attribute_lat_lon and disable_attribute_doy

Version 21:
- Selection of best parameters and change in scene results format

Version 22:
- Fixes in MLP and LSTM modelling and prediction process
- Changes in grid and scene results

Version 23:
- Fixes in scene plot results

Version 24:
- Fixes in the interpolation process of classification/prediction dataframe

Version 25:
- Fixes in indice_threshold selection
